/* auto-generated by NAPI-RS */
/* eslint-disable */
export declare function callToolBuiltin(token: string, invocation?: JsToolInvocation): Promise<NativeToolResponse>

export declare function clearRegisteredTools(): void

export declare function compactThread(req: RunRequest): Promise<Array<string>>

export interface JsToolInterceptorContext {
  invocation: JsToolInvocation
  token: string
}

export interface JsToolInvocation {
  callId: string
  toolName: string
  arguments?: string
  input?: string
}

export interface NativeToolInfo {
  name: string
  description?: string
  parameters?: JsonValue
  strict?: boolean
  supportsParallel?: boolean
}

export interface NativeToolResponse {
  output?: string
  success?: boolean
  error?: string
}

export declare function registerTool(info: NativeToolInfo, handler: (call: JsToolInvocation) => NativeToolResponse | Promise<NativeToolResponse>): void

export declare function registerToolInterceptor(toolName: string, handler: (context: JsToolInterceptorContext) => NativeToolResponse | Promise<NativeToolResponse>): void

export interface RunRequest {
  prompt: string
  threadId?: string
  images?: Array<string>
  model?: string
  oss?: boolean
  sandboxMode?: string
  approvalMode?: string
  workspaceWriteOptions?: WorkspaceWriteOptions
  /** Enable native review mode (mirrors CLI review flow). Optional. */
  reviewMode?: boolean
  /** Optional user-facing hint for the review flow. */
  reviewHint?: string
  workingDirectory?: string
  skipGitRepoCheck?: boolean
  outputSchema?: JsonValue
  baseUrl?: string
  apiKey?: string
  linuxSandboxPath?: string
  fullAuto?: boolean
}

export declare function runThread(req: RunRequest): Promise<Array<string>>

export declare function runThreadStream(req: RunRequest, onEvent: (err: unknown, eventJson?: string) => void): Promise<void>

export interface WorkspaceWriteOptions {
  networkAccess?: boolean
  writableRoots?: Array<string>
  excludeTmpdirEnvVar?: boolean
  excludeSlashTmp?: boolean
}
