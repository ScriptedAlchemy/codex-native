{
  "name": "codex-monorepo",
  "private": true,
  "description": "Tools for repo-wide maintenance.",
  "scripts": {
    "preinstall": "node -e \"if (!/pnpm/.test(process.env.npm_execpath||'') && !/pnpm/.test(process.env.npm_config_user_agent||'')) { console.error('This repository uses PNPM. Please run: pnpm install'); process.exit(1) }\"",
    "cx": "node sdk/native/dist/cli.cjs tui --sandbox danger-full-access --approval never --dangerously-bypass-approvals-and-sandbox",
    "build": "pnpm --filter @codex-native/sdk run build && pnpm recursive run build",
    "format": "prettier --check *.json *.md docs/*.md .github/workflows/*.yml **/*.js",
    "format:fix": "prettier --write *.json *.md docs/*.md .github/workflows/*.yml **/*.js",
    "pr": "pnpm dlx tsx pr-worktree-codex.ts",
    "sdk:build": "node sdk/native/scripts/build-all.mjs",
    "sdk:test": "pnpm --filter @codex-native/sdk run test",
    "sdk:publish-platforms": "pnpm --filter @codex-native/sdk run publish:platforms",
    "sdk:release": "pnpm --filter @codex-native/sdk run release",
    "sdk:release:dry": "pnpm --filter @codex-native/sdk run release:dry",
    "sdk:release:patch": "pnpm --filter @codex-native/sdk run release:patch",
    "sdk:release:minor": "pnpm --filter @codex-native/sdk run release:minor",
    "sdk:release:major": "pnpm --filter @codex-native/sdk run release:major",
    "ci:format": "bash -c 'cd codex-rs && rustup toolchain install nightly --profile minimal >/dev/null && rustup component add rustfmt --toolchain nightly >/dev/null && cargo +nightly fmt -- --config imports_granularity=Item --check'",
    "ci:codespell": "codespell --config .codespellrc",
    "ci:mcp-types": "cd codex-rs && ./mcp-types/check_lib_rs.py",
    "ci:shear": "bash -c 'cd codex-rs && cargo shear'",
    "ci:clippy": "bash -c 'cd codex-rs && CARGO_PROFILE_DEV_DEBUG=0 cargo clippy --all-features --tests --profile dev -- -D warnings'",
    "ci:build": "bash -c 'cd codex-rs && cargo build'",
    "ci:test": "bash -c 'cd codex-rs && cargo nextest run --profile ci-test --fail-fast || cargo test --profile ci-test'",
    "ci:test:fallback": "bash -c 'cd codex-rs && cargo test --lib --bins --tests --profile ci-test'",
    "ci:test:fast": "bash -c 'cd codex-rs && cargo test --lib --bins --tests --profile test-cache -- --nocapture'",
    "ci:test:deps": "bash -c 'cd codex-rs && cargo check --all-targets --profile test-cache'",
    "ci:prebuild": "bash -c 'cd codex-rs && cargo check --profile test-cache --quiet && cargo check --tests --profile test-cache --quiet'",
    "ci:checks": "concurrently -n format,spell,mcp,shear \"pnpm run ci:format\" \"pnpm run ci:codespell\" \"pnpm run ci:mcp-types\" \"pnpm run ci:shear\"",
    "ci:verify": "concurrently -n clippy,test \"pnpm run ci:clippy\" \"pnpm run ci:test:fast\"",
    "ci": "pnpm run ci:prebuild && pnpm run ci:checks && pnpm run ci:verify",
    "ci:fast": "pnpm run ci:prebuild && concurrently -n checks,verify \"pnpm run ci:checks\" \"pnpm run ci:verify\"",
    "ci:json": "pnpm dlx tsx scripts/ci-json.ts",
    "test:codex-rs": "cd codex-rs && cargo test --workspace --all-features",
    "test": "pnpm run ci:codespell && pnpm run ci:shear && pnpm run ci:format && pnpm run test:codex-rs && pnpm run sdk:build && pnpm run sdk:test"
  },
  "devDependencies": {
    "@codex-native/sdk": "workspace:*",
    "@toon-format/toon": "^1.0.0",
    "@napi-rs/cli": "^2.18.4",
    "concurrently": "^9.2.1",
    "prettier": "^3.5.3"
  },
  "resolutions": {
    "braces": "^3.0.3",
    "micromatch": "^4.0.8",
    "semver": "^7.7.1"
  },
  "overrides": {
    "punycode": "^2.3.1"
  },
  "engines": {
    "node": ">=22",
    "pnpm": ">=9.0.0"
  },
  "packageManager": "pnpm@10.20.0"
}
